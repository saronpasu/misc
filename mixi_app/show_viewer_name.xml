<?xml version="1.0" encoding="UTF-8" ?>
<Module>
  <ModulePrefs title="Show OwnerName">
    <Require feature="opensocial-0.8"/>
  </ModulePrefs>
  <Content type="html" view="home,profile"><![CDATA[
    <script type="text/javascript">
      function main() {
        var request = opensocial.newDataRequest();
        request.add(opensocial.newFetchPersonRequest(opensocial.newIdSpec.PersonId.VIEWER, 'viewer');
        request.send(response) {
          var viewer = response.get('viewer');
          if (viewer.hadError()) {
            return;
          }

          var nickname = viewer.getDisplayName();
        };
        var html = nickname;
        var element = document.getElementById('message');
        element.innerHTML = html;
      };
      gadgets.util.registerOnLoadHandler(main);
    </script>
    <div id="message"> </div>
  ]]>
  </Content>
</Module>
